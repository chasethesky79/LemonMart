<mat-toolbar color="accent">
    <h5>User Profile</h5>
</mat-toolbar>
<mat-horizontal-stepper #stepper="matHorizontalStepper">
    <mat-step [stepControl]="userForm">
        <form [formGroup]="userForm">
            <ng-template matStepLabel>Account Information</ng-template>
            <div fxLayout="row" fxLayout.lt-sm="column" [formGroup]="userForm.get('name')" fxLayoutGap="20px">
                <mat-form-field fxFlex="40%">
                    <input matInput placeholder="First Name" aria-label="First Name" formControlName="first" autocomplete="off" />
                    <mat-error *ngIf="userForm.get('name').get('first').hasError('required')">First name is required</mat-error>
                    <mat-error *ngIf="userForm.get('name').get('first').hasError('minlength')">Must be at least 2 characters</mat-error>
                    <mat-error *ngIf="userForm.get('name').get('first').hasError('maxlength')">Cannot exceed 50 characters</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="20%">
                    <input matInput placeholder="Middle Name" aria-label="Middle Name" formControlName="middle" autocomplete="off" />
                    <mat-error *ngIf="userForm.get('name').get('middle').invalid">Only initial</mat-error>
                </mat-form-field>
                <mat-form-field fxFlex="40%">
                    <input matInput placeholder="Last Name" aria-label="Last Name" formControlName="last" autocomplete="off" />
                    <mat-error *ngIf="userForm.get('name').get('last').hasError('required')">Last name is required</mat-error>
                    <mat-error *ngIf="userForm.get('name').get('last').hasError('minlength')">Must be at least 2 characters</mat-error>
                    <mat-error *ngIf="userForm.get('name').get('last').hasError('maxlength')">Cannot exceed 50 characters</mat-error>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="50%">
                    <input
                        matInput
                        [matDatepicker]="picker1"
                        placeholder="Date Of Birth"
                        formControlName="dateOfBirth"
                        autocomplete="off"
                    />
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="userForm">
        <form [formGroup]="userForm">
            <ng-template matStepLabel>Contact Information</ng-template>
            <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="50%">
                    <input matInput placeholder="Email" aria-label="Email" formControlName="email" autocomplete="off" />
                    <mat-error *ngIf="userForm.get('email').invalid">Invalid email</mat-error>
                    <mat-hint *ngIf="!isUserAManager">Only your manager can update your email</mat-hint>
                </mat-form-field>
                <mat-radio-group class="role-group" fxFlex="50%">
                    <mat-label libRequired>Roles</mat-label>
                    <span *ngFor="let roleGroup of rolesArray.controls" [formGroup]="roleGroup">
                        <mat-radio-button [checked]="roleGroup.get('role').value === 'Manager'" class="role-item">
                            {{ roleGroup.get('role').value }}
                        </mat-radio-button>
                    </span>
                </mat-radio-group>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="userForm">
        <form [formGroup]="userForm">
            <ng-template matStepLabel>Review</ng-template>
        </form>
    </mat-step>
</mat-horizontal-stepper>
